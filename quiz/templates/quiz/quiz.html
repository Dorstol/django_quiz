{% extends 'quiz/base.html' %}

{% block content %}
<div id="quiz-container">
    {% if previous_is_correct is not None %}
        {% if previous_is_correct %}
            <h3 style="color: green;">Правильно!</h3>
        {% else %}
            <h3 style="color: red;">Неправильно!</h3>
        {% endif %}
    {% endif %}
    <h2>{{ question.text }}</h2>
    <p>Счет: {{ score }}</p>
    <p>Неправильных ответов: {{ wrong_answers }} из 3</p>
    <ul>
        {% for choice in question.choices.all %}
        <li>
            <form hx-post="{% url 'check_answer' category.id %}"
                  hx-include="[name='choice']"
                  hx-target="#quiz-container"
                  hx-swap="innerHTML">
                {% csrf_token %}
                <input type="hidden" name="choice" value="{{ choice.id }}">
                <button type="submit">{{ choice.text }}</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</div>

<script>
    setTimeout(function() {
        var resultMessage = document.getElementById('result-message');
        if (resultMessage) {
            resultMessage.style.display = 'none';
        }
    }, 2000);
</script>
{% endblock %}

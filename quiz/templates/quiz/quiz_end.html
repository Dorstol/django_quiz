{% extends 'quiz/base.html' %}
{% load static %}

{% block content %}
<div id="quiz-end-container" class="container mt-5">
    <div class="card shadow-sm">
        <div class="card-body text-center">
            <h2 class="card-title mb-4">Квиз окончен</h2>

            <p class="card-text"><strong>Итоговый счёт:</strong> {{ score }}</p>
            <p class="card-text"><strong>Неправильных ответов:</strong> {{ wrong_answers }}</p>
            <p class="card-text"><strong>Всего вопросов:</strong> {{ total_questions }}</p>

            <!-- Можно добавить краткий фидбэк в зависимости от результата -->
            {% if score == total_questions %}
            <div class="alert alert-success mt-4">Превосходно! Вы ответили правильно на все вопросы!</div>
            {% elif wrong_answers == 3 %}
            <div class="alert alert-danger mt-4">Вы исчерпали количество попыток! Попробуйте ещё раз!</div>
            {% else %}
            <div class="alert alert-info mt-4">Неплохой результат! Попытайтесь улучшить его!</div>
            {% endif %}

            <!-- Включаем форму для ввода данных пользователя или других полей (quiz_end_form.html) -->
            <div class="mt-4">
                {% include 'quiz/partials/quiz_end_form.html' %}
            </div>

            <!-- Можно добавить кнопки навигации, например, вернуться к категориям или посмотреть рейтинг -->
            <div class="mt-3">
                <a href="{% url 'category_list' %}" class="btn btn-outline-secondary">Вернуться к категориям</a>
                <a href="{% url 'leaderboard_partial' %}" class="btn btn-primary ml-2">Посмотреть рейтинг</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
